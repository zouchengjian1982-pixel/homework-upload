<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¢å•ç®¡ç†åå°</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', sans-serif; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #8B4513, #D2691E); color: #fff; padding: 20px; text-align: center; }
        .header h1 { font-size: 20px; }
        .login-box { max-width: 300px; margin: 100px auto; padding: 30px; background: #fff; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.1); }
        .login-box h2 { text-align: center; margin-bottom: 20px; color: #8B4513; }
        .login-box input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 15px; }
        .login-box button { width: 100%; padding: 12px; background: #8B4513; color: #fff; border: none; border-radius: 8px; cursor: pointer; }
        .container { display: none; padding: 15px; }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .stat-card { background: #fff; padding: 15px; border-radius: 10px; text-align: center; }
        .stat-card .num { font-size: 28px; color: #8B4513; font-weight: bold; }
        .stat-card .label { font-size: 12px; color: #999; margin-top: 5px; }
        .order-list { background: #fff; border-radius: 10px; }
        .order-item { padding: 15px; border-bottom: 1px solid #f0f0f0; }
        .order-item:last-child { border-bottom: none; }
        .order-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .order-id { font-size: 12px; color: #999; }
        .order-status { font-size: 12px; padding: 2px 8px; border-radius: 10px; }
        .status-pending { background: #fff3e0; color: #ff9800; }
        .status-paid { background: #e8f5e9; color: #4caf50; }
        .status-shipped { background: #e3f2fd; color: #2196f3; }
        .order-info { font-size: 14px; margin-bottom: 8px; }
        .order-info strong { color: #333; }
        .order-products { font-size: 13px; color: #666; background: #f9f9f9; padding: 10px; border-radius: 6px; margin: 10px 0; }
        .order-total { font-size: 16px; color: #D2691E; font-weight: bold; }
        .order-actions { margin-top: 10px; display: flex; gap: 10px; }
        .order-actions button { padding: 6px 15px; border: none; border-radius: 15px; font-size: 12px; cursor: pointer; }
        .btn-ship { background: #8B4513; color: #fff; }
        .btn-delete { background: #f5f5f5; color: #999; }
        .empty { text-align: center; padding: 50px; color: #999; }
        .tabs { display: flex; background: #fff; margin-bottom: 15px; border-radius: 10px; overflow: hidden; }
        .tab { flex: 1; padding: 12px; text-align: center; cursor: pointer; font-size: 14px; }
        .tab.active { background: #8B4513; color: #fff; }
    </style>
</head>
<body>
    <div class="login-box" id="loginBox">
        <h2>ğŸ” ç®¡ç†åå°</h2>
        <input type="password" id="password" placeholder="è¯·è¾“å…¥ç®¡ç†å¯†ç ">
        <button onclick="login()">ç™»å½•</button>
    </div>

    <div class="container" id="container">
        <header class="header">
            <h1>ğŸ“¦ è®¢å•ç®¡ç†åå°</h1>
        </header>

        <div style="padding: 15px;">
            <div class="stats">
                <div class="stat-card">
                    <div class="num" id="totalOrders">0</div>
                    <div class="label">æ€»è®¢å•</div>
                </div>
                <div class="stat-card">
                    <div class="num" id="totalAmount">0</div>
                    <div class="label">æ€»é‡‘é¢</div>
                </div>
                <div class="stat-card">
                    <div class="num" id="pendingOrders">0</div>
                    <div class="label">å¾…å¤„ç†</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="filterOrders('all')">å…¨éƒ¨</div>
                <div class="tab" onclick="filterOrders('pending')">å¾…å¤„ç†</div>
                <div class="tab" onclick="filterOrders('paid')">å·²ä»˜æ¬¾</div>
                <div class="tab" onclick="filterOrders('shipped')">å·²å‘è´§</div>
            </div>

            <div class="order-list" id="orderList"></div>
        </div>
    </div>

    <script>
        const ADMIN_PASSWORD = '123456';
        let orders = [];
        let currentFilter = 'all';

        function login() {
            const pwd = document.getElementById('password').value;
            if (pwd === ADMIN_PASSWORD) {
                document.getElementById('loginBox').style.display = 'none';
                document.getElementById('container').style.display = 'block';
                loadOrders();
            } else {
                alert('å¯†ç é”™è¯¯');
            }
        }

        function loadOrders() {
            orders = JSON.parse(localStorage.getItem('shuhua_orders')) || [];
            updateStats();
            renderOrders();
        }

        function updateStats() {
            document.getElementById('totalOrders').textContent = orders.length;
            const total = orders.reduce((sum, o) => sum + o.total, 0);
            document.getElementById('totalAmount').textContent = 'Â¥' + total;
            const pending = orders.filter(o => o.status === 'pending').length;
            document.getElementById('pendingOrders').textContent = pending;
        }

        function filterOrders(status) {
            currentFilter = status;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            renderOrders();
        }

        function renderOrders() {
            const list = document.getElementById('orderList');
            let filtered = currentFilter === 'all' ? orders : orders.filter(o => o.status === currentFilter);
            
            if (filtered.length === 0) {
                list.innerHTML = '<div class="empty">æš‚æ— è®¢å•</div>';
                return;
            }

            list.innerHTML = filtered.map((order, index) => `
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-id">è®¢å•å·: ${order.id}</span>
                        <span class="order-status status-${order.status}">
                            ${order.status === 'pending' ? 'å¾…å¤„ç†' : order.status === 'paid' ? 'å·²ä»˜æ¬¾' : 'å·²å‘è´§'}
                        </span>
                    </div>
                    <div class="order-info">
                        <strong>æ”¶ä»¶äºº:</strong> ${order.receiver.name} | ${order.receiver.phone}
                    </div>
                    <div class="order-info">
                        <strong>åœ°å€:</strong> ${order.receiver.address}
                    </div>
                    ${order.receiver.remark ? `<div class="order-info"><strong>å¤‡æ³¨:</strong> ${order.receiver.remark}</div>` : ''}
                    <div class="order-products">
                        ${order.items.map(item => `${item.name} x${item.quantity}`).join('ã€')}
                    </div>
                    <div class="order-total">åˆè®¡: Â¥${order.total}</div>
                    <div class="order-info" style="font-size:12px;color:#999;">ä¸‹å•æ—¶é—´: ${order.time}</div>
                    <div class="order-actions">
                        ${order.status !== 'shipped' ? `<button class="btn-ship" onclick="shipOrder(${index})">æ ‡è®°å‘è´§</button>` : ''}
                        <button class="btn-delete" onclick="deleteOrder(${index})">åˆ é™¤</button>
                    </div>
                </div>
            `).join('');
        }

        function shipOrder(index) {
            orders[index].status = 'shipped';
            localStorage.setItem('shuhua_orders', JSON.stringify(orders));
            updateStats();
            renderOrders();
        }

        function deleteOrder(index) {
            if (confirm('ç¡®å®šåˆ é™¤æ­¤è®¢å•ï¼Ÿ')) {
                orders.splice(index, 1);
                localStorage.setItem('shuhua_orders', JSON.stringify(orders));
                updateStats();
                renderOrders();
            }
        }

        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') login();
        });
    </script>
</body>
</html>
